<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link type="application/atom+xml" rel="alternate" href="http://jekyllrb-ja.github.io/feed.xml" title="Jekyll • シンプルで、ブログのような、静的サイト" />
  <link type="application/atom+xml" rel="alternate" href="/feed/release.xml" title="Jekyll releases posts" />
  <link rel="alternate" type="application/atom+xml" title="Recent commits to Jekyll’s master branch" href="https://github.com/jekyll/jekyll/commits/master.atom">
  <link rel="preload" href="/fonts/lato-v14-latin-300.woff2" as="font" type="font/woff2" crossorigin />
  <link rel="preload" href="/fonts/lato-v14-latin-700.woff2" as="font" type="font/woff2" crossorigin />
  <link rel="preload" href="/css/screen.css" as="style">
  <link rel="stylesheet" href="/css/screen.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>カスタム404ページ | Jekyll • シンプルで、ブログのような、静的サイト</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="カスタム404ページ" />
<meta name="author" content="ashmaroli" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="プレーンテキストを静的サイトやブログに変えましょう" />
<meta property="og:description" content="プレーンテキストを静的サイトやブログに変えましょう" />
<link rel="canonical" href="http://jekyllrb-ja.github.io/tutorials/custom-404-page/" />
<meta property="og:url" content="http://jekyllrb-ja.github.io/tutorials/custom-404-page/" />
<meta property="og:site_name" content="Jekyll • シンプルで、ブログのような、静的サイト" />
<meta property="og:image" content="http://jekyllrb-ja.github.io/img/jekyll-og.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-03-11T11:53:24+00:00" />
<script type="application/ld+json">
{"headline":"カスタム404ページ","dateModified":"2017-03-11T11:53:24+00:00","datePublished":"2017-03-11T11:53:24+00:00","image":"http://jekyllrb-ja.github.io/img/jekyll-og.png","author":{"@type":"Person","name":"ashmaroli"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://jekyllrb-ja.github.io/tutorials/custom-404-page/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://jekyllrb-ja.github.io/img/logo-2x.png"},"name":"ashmaroli"},"url":"http://jekyllrb-ja.github.io/tutorials/custom-404-page/","description":"プレーンテキストを静的サイトやブログに変えましょう","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <!--[if lt IE 9]>
  <script src="/js/html5shiv.min.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
</head>
<body class="wrap"><header>
  <div class="flexbox">
    <div class="center-on-mobiles">
      <h1>
        <a href="/" class="logo">
          <span class="sr-only">Jekyll</span>
          <img src="/img/logo-2x.png" width="140" height="65" alt="Jekyll Logo">
        </a>
      </h1>
    </div>
    <nav class="main-nav hide-on-mobiles">
      <ul>
  <li><a href="/">Home</a></li>
  <li><a href="/docs/">Docs</a></li>
  <li><a href="/resources/">Resources</a></li>
  <li><a href="/showcase/">Showcase</a></li>
  <li><a href="/news/">News</a></li>
  </ul>
</nav>
    <div class="search hide-on-mobiles">
      <input type="text" id="docsearch-input" placeholder="Search the docs…">
</div>
    <div class="meta hide-on-mobiles">
      <ul>
        <li><a href="https://github.com/jekyll/jekyll/releases/tag/v4.1.1">v4.1.1</a></li>
        <li><a href="https://github.com/jekyll/jekyll">GitHub</a></li>
      </ul>
    </div>
  </div>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li><a href="/">Home</a></li>
    <li><a href="/docs/">Docs</a></li>
    <li><a href="/resources/">Resources</a></li>
    <li><a href="/news/">News</a></li>
    <li><a href="https://github.com/jekyll/jekyll">GitHub</a></li>
</ul>
</nav>
</header>
<section class="docs">
  <div class="grid"><div class="docs-nav-mobile unit whole show-on-mobiles">
  <select onchange="if (this.value) window.location.href=this.value">
    <option value="">Navigate the tutorials…</option>
    <optgroup label="Tutorials">
      <option value="/tutorials/home/">チュートリアル</option>
      <option value="/tutorials/video-walkthroughs/">動画での解説</option>
      <option value="/tutorials/navigation/">ナビゲーション</option>
      <option value="/tutorials/orderofinterpretation/">解釈の順番</option>
      <option value="/tutorials/custom-404-page/">カスタム404ページ</option>
      <option value=""></option>
      <option value="/tutorials/using-jekyll-with-bundler/">BundlerでJekyllを使う</option>
      <option value="/tutorials/csv-to-table/">CSVデータをテーブル化</option>
      </optgroup>
    </select>
</div>
<div class="unit four-fifths">
      <article>
        <header class="tutorial-header">
          <div class="improve right hide-on-mobiles">
            <a href="https://github.com/jekyll/jekyll/edit/master/docs/_tutorials/custom-404-page.md"><i
               class="fa fa-pencil"></i> &nbsp;Improve this page</a>
          </div>
          <h1 class="tutorial-title">カスタム404ページ</h1>
          
          
            <div class="tutorial-meta">
              <span class="tutorial-date">
               11 March 2017
              </span>
              <a href="https://github.com/ashmaroli" class="tutorial-author">
                <img class="avatar avatar-small" alt="ashmaroli" width="24" height="24" data-proofer-ignore="true" src="https://avatars0.githubusercontent.com/ashmaroli?v=3&s=24" srcset="https://avatars0.githubusercontent.com/ashmaroli?v=3&s=24 1x, https://avatars0.githubusercontent.com/ashmaroli?v=3&s=48 2x, https://avatars0.githubusercontent.com/ashmaroli?v=3&s=72 3x, https://avatars0.githubusercontent.com/ashmaroli?v=3&s=96 4x" />
                <span class="author-name">ashmaroli</span>
              </a>
            </div>
          
        </header><!-- ---
title: Custom 404 Page
author: ashmaroli
date: 2017-03-11 17:23:24 +0530
--- -->

<p>壊れたリンクへアクセスしたときに表示されるデフォルトの<strong>Error 404 – File Not Found</strong>ページを、Jekyllで簡単にカスタム404エラーページに置き換えることができます。</p>

<!-- You can easily serve custom 404 error pages with Jekyll to replace the default **Error 404 -- File Not Found** page displayed when one tries to access a broken link on your site. -->

<h2 id="github-pagesの場合">GitHub Pagesの場合</h2>
<!-- ## On GitHub Pages -->

<p><strong><code class="language-plaintext highlighter-rouge">_site</code>ディレクトリのroot</strong>に<code class="language-plaintext highlighter-rouge">404.html</code>がGitHub PagesとローカルWEBrick開発サーバーにより自動で提供されます。</p>

<!-- Any `404.html` at the **root of your `_site` directory** will be served automatically by GitHub Pages and the local WEBrick development server. -->

<p>簡単には、<code class="language-plaintext highlighter-rouge">404.md</code>か<code class="language-plaintext highlighter-rouge">404.html</code>をサイトのソースディレクトリのrootに追加し、テーマの基本レイアウトを使用するようfront matterを記載します。</p>

<!-- Simply add a `404.md` or `404.html` at the root of your site's source directory and include front matter data to use the theme's base layout. -->

<p>エラーページ用のファイルを細部ディレクトリに入れる場合は、以下のようにfront matterに<code class="language-plaintext highlighter-rouge">permalink: /404.html</code>を記載します。これで、コンパイル後の<code class="language-plaintext highlighter-rouge">404.html</code>はサイトのrootディレクトリに存在することになり、サーバーに認識されます。</p>

<!-- If you plan to organize your files under subdirectories, the error page should have the following Front Matter Data, set: `permalink: /404.html`. This is to ensure that the compiled `404.html` resides at the root of your processed site, where it'll be picked by the server. -->

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="c1"># example 404.md</span>

<span class="na">layout</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">permalink</span><span class="pi">:</span> <span class="s">/404.html</span>
<span class="nn">---</span>

<span class="gh"># 404</span>

Page not found! :(
</code></pre></div></div>

<h2 id="apache-webサーバーによるホスティングの場合">Apache Webサーバーによるホスティングの場合</h2>
<!-- ## Hosting on Apache Web Servers -->

<p>Apache Webサーバーはその機能に変化を加えるために、<a href="http://www.htaccess-guide.com/" target="_blank"><code class="language-plaintext highlighter-rouge">.htaccess</code></a>という設定ファイルを読み込みます。</p>

<!-- Apache Web Servers load a configuration file named [`.htaccess`](http://www.htaccess-guide.com/) that modifies the functionality of these servers. -->

<p>簡単には、以下の内容を<code class="language-plaintext highlighter-rouge">.htaccess</code>に追加します。</p>

<!-- Simply add the following to your `.htaccess` file. -->

<div class="language-apache highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">ErrorDocument</span> 404 /404.html
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">.htaccess</code>ファイルでは、サブディレクトリのエラーページも自由に指定できます。</p>

<!-- With an `.htaccess` file, you have the freedom to place your error page within a subdirectory. -->

<div class="language-apache highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">ErrorDocument</span> 404 /error_pages/404.html
</code></pre></div></div>

<p>パスは、サイトのドメインからの相対パスです。</p>

<!-- Where the path is relative to your site's domain. -->

<p>Apache Errorページの設定に関する更なる情報は、<a href="https://httpd.apache.org/docs/current/mod/core.html#errordocument" target="_blank">official documentation</a>をご覧ください。</p>

<!-- More info on configuring Apache Error Pages can found in [official documentation](https://httpd.apache.org/docs/current/mod/core.html#errordocument). -->

<h2 id="nginxサーバーによるホスティングの場合">Nginxサーバーによるホスティングの場合</h2>
<!-- ## Hosting on Nginx server -->

<p>Apacheサーバーの場合と同様に簡単ですが、少し異なります。</p>

<!-- The procedure is just as simple as configuring Apache servers, but slightly different. -->

<p>Nginxの設定ファイルは、インストールされているシステムに依存します。多くの場合は、<code class="language-plaintext highlighter-rouge">/etc/nginx/</code>か<code class="language-plaintext highlighter-rouge">/etc/nginx/conf/</code>にある<code class="language-plaintext highlighter-rouge">nginx.conf</code>です。しかし、Ubuntuの様な他のサーバーでは、サーバー関連の情報を含む<code class="language-plaintext highlighter-rouge">default</code>というNginx設定ファイルを探す必要があります。通常は<code class="language-plaintext highlighter-rouge">/etc/nginx/sites-available/</code>か<code class="language-plaintext highlighter-rouge">/etc/nginx/sites-enabled/</code>にあります。以下をNginx設定ファイル（<code class="language-plaintext highlighter-rouge">nginx.conf</code>ファイルや<code class="language-plaintext highlighter-rouge">default</code>ファイル）に追加します。</p>

<!-- The nginx configuration file depends on the system in which it is installed. In most systems, it is the `nginx.conf` file, which is usually located inside `/etc/nginx/` or `/etc/nginx/conf/`. However, in other systems like Ubuntu, you would have to look for a `default` nginx configuration file, containing server related information, which is usually located inside `/etc/nginx/sites-available/` or `/etc/nginx/sites-enabled/`. Add the following to your nginx configuration file, _i.e._ either to `nginx.conf` file or to `default` file: -->

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">server</span> <span class="p">{</span>
  <span class="kn">error_page</span> <span class="mi">404</span> <span class="n">/404.html</span><span class="p">;</span>
  <span class="kn">location</span> <span class="p">=</span> <span class="n">/404.html</span> <span class="p">{</span>
    <span class="kn">internal</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>もし、<code class="language-plaintext highlighter-rouge">server</code>ブロックが既にあれば、上記の<code class="language-plaintext highlighter-rouge">server</code>ブロックに中身だけを追加してください。<code class="language-plaintext highlighter-rouge">location</code>はユーザーが直接404.htmlページを見ることを防ぎます。</p>

<!-- If the `server` block already exists, only add the code inside the `server` block given above.
The `location` directive prevents users from directly browsing the 404.html page. -->

<p>Nginxエラーページに関する更なる情報は、<a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#error_page" target="_blank">nginx official documentation</a>をご覧ください。</p>

<!-- More info on nginx error page can be found on [nginx official documentation](http://nginx.org/en/docs/http/ngx_http_core_module.html#error_page). -->

<p class="note warning">
  設定ファイルの編集は注意して進めてください。
  <!-- Proceed with caution while editing the configuration file. -->
</p>
<div class="section-nav">
    <div class="left align-right">
        <a href="/tutorials/orderofinterpretation/" class="prev">Back</a>
        </div>
    <div class="right align-left">
        <a href="/tutorials/convert-site-to-jekyll/" class="next">Next</a>
        </div>
  </div>
  <div class="clear"></div>
  </article>
    </div><div class="unit one-fifth hide-on-mobiles">
  <aside>
    <h4>Tutorials</h4>
      <ul>
      <li><a href="/tutorials/home/">チュートリアル</a></li>
      <li><a href="/tutorials/video-walkthroughs/">動画での解説</a></li>
      <li><a href="/tutorials/navigation/">ナビゲーション</a></li>
      <li><a href="/tutorials/orderofinterpretation/">解釈の順番</a></li>
      <li class="current"><a href="/tutorials/custom-404-page/">カスタム404ページ</a></li>
      <li><a href=""></a></li>
      <li><a href="/tutorials/using-jekyll-with-bundler/">BundlerでJekyllを使う</a></li>
      <li><a href="/tutorials/csv-to-table/">CSVデータをテーブル化</a></li>
      </ul>
    </aside>
</div>
<div class="clear"></div>
  </div>
</section>
<footer>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <p>Jekyllはボランティアの<a href="/team/">コアチーム</a>により愛情を込めて維持されています。</p>
      <p>このWebサイトのコンテンツは<a href="https://github.com/jekyll/jekyll/blob/master/LICENSE" target="_blank">MIT&nbsp;License</a>に基づきます。&copy;&nbsp;2020</p>
      <!-- <p>Jekyll is lovingly maintained by the <a href="/team/">core team</a> of volunteers. </p>
      <p>The contents of this website are <br />&copy;&nbsp;2020 under the terms of the <a href="https://github.com/jekyll/jekyll/blob/master/LICENSE">MIT&nbsp;License</a>.</p> -->
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
        Proudly hosted by
        <a href="https://github.com">
          <img src="/img/footer-logo.png" width="100" height="30" alt="GitHub • Social coding">
        </a>
      </p>
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
        Jekyll is funded thanks to its
        <a href="https://github.com/jekyll/jekyll#sponsors">
          sponsors!
        </a>
      </p>
    </div>
  </div>
</footer>
<script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: '50fe39c839958dfad797000f33e2ec17',
indexName: 'jekyllrb',
inputSelector: '#docsearch-input',
enhancedSearchInput: true,
debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>
</html>
